<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expressions - Luau Parser API</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <div class="layout-wrapper">
            <aside class="sidebar-left">
                <div class="sidebar-header">
                    <h1>Luau Parser</h1>
                    <p>API Reference</p>
                </div>
                <div class="search-container">
                    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                    </svg>
                    <input type="text" class="search-input" placeholder="Search types..." id="search-input">
                </div>
                <nav class="nav-section">
                    <div class="nav-section-title">Pages</div>
                    <a href="index.html" class="nav-link">Overview</a>
<a href="core.html" class="nav-link">Core Types</a>
<a href="expressions.html" class="nav-link active">Expressions</a>
<a href="statements.html" class="nav-link">Statements</a>
<a href="types.html" class="nav-link">Type Annotations</a>
<a href="cst.html" class="nav-link">CST Nodes</a>
<a href="helpers.html" class="nav-link">Helpers & Result</a>

                </nav>
            </aside>
            <main class="main-content">

                <header class="page-header">
                    <h1>Expressions</h1>
                    <p>Documentation for Expressions</p>
                </header>
        
                    <div class="category-header">
                        <h2>Expressions</h2>
                    </div>
                  
                <div class="union-section" id="AstExpr">
                    <h3>AstExpr <span class="badge expr">EXPR</span> <span class="tag">Union Type</span></h3>
                    <p class="type-description">Union type representing all possible expression nodes in the AST. Expressions are constructs that evaluate to a value.</p>
                    <div class="union-members">
                        <a href="expressions.html#AstExprGroup" class="union-member">AstExprGroup</a>
<a href="expressions.html#AstExprConstantNil" class="union-member">AstExprConstantNil</a>
<a href="expressions.html#AstExprConstantBool" class="union-member">AstExprConstantBool</a>
<a href="expressions.html#AstExprConstantNumber" class="union-member">AstExprConstantNumber</a>
<a href="expressions.html#AstExprConstantString" class="union-member">AstExprConstantString</a>
<a href="expressions.html#AstExprLocal" class="union-member">AstExprLocal</a>
<a href="expressions.html#AstExprGlobal" class="union-member">AstExprGlobal</a>
<a href="expressions.html#AstExprVarargs" class="union-member">AstExprVarargs</a>
<a href="expressions.html#AstExprCall" class="union-member">AstExprCall</a>
<a href="expressions.html#AstExprIndexName" class="union-member">AstExprIndexName</a>
<a href="expressions.html#AstExprIndexExpr" class="union-member">AstExprIndexExpr</a>
<a href="expressions.html#AstExprFunction" class="union-member">AstExprFunction</a>
<a href="expressions.html#AstExprTable" class="union-member">AstExprTable</a>
<a href="expressions.html#AstExprUnary" class="union-member">AstExprUnary</a>
<a href="expressions.html#AstExprBinary" class="union-member">AstExprBinary</a>
<a href="expressions.html#AstExprTypeAssertion" class="union-member">AstExprTypeAssertion</a>
<a href="expressions.html#AstExprIfElse" class="union-member">AstExprIfElse</a>
<a href="expressions.html#AstExprInterpString" class="union-member">AstExprInterpString</a>
<a href="expressions.html#AstExprInstantiate" class="union-member">AstExprInstantiate</a>
<a href="expressions.html#AstExprError" class="union-member">AstExprError</a>

                    </div>
                </div>
    
                    <div class="category-header">
                        <h2>Expressions</h2>
                    </div>
                  
                <div class="type-entry" id="AstExprGroup">
                    <div class="type-header">
                        <span class="type-name">AstExprGroup</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A parenthesized expression: `(expr)`. Used to override operator precedence or for clarity.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local x = (1 + 2) * 3
local y = (a and b) or c</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The inner expression wrapped in parentheses</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprConstantNil">
                    <div class="type-header">
                        <span class="type-name">AstExprConstantNil</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">The `nil` literal constant. Represents the absence of a value in Luau.</p>
                    
                    
                </div>
    
                <div class="type-entry" id="AstExprConstantBool">
                    <div class="type-header">
                        <span class="type-name">AstExprConstantBool</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A boolean literal constant: `true` or `false`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local t = true
local f = false</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">value</span> <span class="field-type">boolean</span></div> 
                            <div class="field-desc">The boolean value (true or false)</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprConstantNumber">
                    <div class="type-header">
                        <span class="type-name">AstExprConstantNumber</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A numeric literal constant (integer or floating-point). The original source text is stored in the CST node (CstExprConstantNumber.value).                      &quot;HexOverflow&quot; = hex literal exceeds 64 bits, &quot;BinOverflow&quot; = binary literal exceeds 64 bits,                      &quot;Malformed&quot; = failed to parse (typically produces an error node instead)</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local a = 123
local b = 3.14
local c = 0xFF
local d = 1e-10</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">value</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">The parsed numeric value</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">parseResult</span> <span class="field-type">string</span></div> 
                            <div class="field-desc">Parsing status: &quot;Ok&quot; = success, &quot;Imprecise&quot; = exceeds 2^53 (loses f64 precision),</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprConstantString">
                    <div class="type-header">
                        <span class="type-name">AstExprConstantString</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A string literal constant (single-quoted, double-quoted, or long bracket string). The original source string (before escape processing) is stored in CstExprConstantString.sourceString.                     1=QuotedSingle (single quotes), 2=QuotedRaw (long brackets [[]]),                     3=Unquoted (identifier-style key in table constructor like {foo = 1})</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local s1 = &quot;hello&quot;
local s2 = &#039;world&#039;
local s3 = [[long string]]</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">value</span> <span class="field-type">string</span></div> 
                            <div class="field-desc">The processed string value (with escape sequences resolved)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">quoteStyle</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">The quote style: 0=QuotedSimple (double quotes or interp string), </div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprLocal">
                    <div class="type-header">
                        <span class="type-name">AstExprLocal</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A reference to a local variable.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local a = 1
print(a) -- ExprLocal referring to &#039;a&#039;</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">local</span> <span class="field-type"></span></div> 
                            <div class="field-desc">The AstLocal representing the referenced variable</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">upvalue</span> <span class="field-type">boolean</span></div> 
                            <div class="field-desc">True if this is an upvalue (captured from an outer scope)</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprGlobal">
                    <div class="type-header">
                        <span class="type-name">AstExprGlobal</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A reference to a global variable.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">print(&quot;hello&quot;) -- ExprGlobal referring to &#039;print&#039;
a = 1 -- ExprGlobal referring to &#039;a&#039; if not defined locally</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">name</span> <span class="field-type">string</span></div> 
                            <div class="field-desc">The name of the global variable</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprVarargs">
                    <div class="type-header">
                        <span class="type-name">AstExprVarargs</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A reference to the varargs `...` in a vararg function. Only valid inside functions declared with `...` parameter.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local function f(...)
    print(...) -- ExprVarargs
end</code></pre>
                    </div>
                    
                </div>
    
                <div class="type-entry" id="AstExprCall">
                    <div class="type-header">
                        <span class="type-name">AstExprCall</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A function call expression: `func(args)` or `obj:method(args)`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">print(&quot;hello&quot;)
math.max(1, 2)
object:method()
wrapper { data = 1 } -- Function call without parens (table arg)</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">func</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The expression being called (function or callable object)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">args</span> <span class="field-type">{<a href="expressions.html#AstExpr">AstExpr</a>}</span></div> 
                            <div class="field-desc">The list of argument expressions</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">self</span> <span class="field-type">boolean</span></div> 
                            <div class="field-desc">True if this is a method call using `:` syntax</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">argLocation</span> <span class="field-type"><a href="core.html#Location">Location</a></span></div> 
                            <div class="field-desc">The location spanning the argument list (including parentheses)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">typeArguments</span> <span class="field-type">{<a href="helpers.html#AstTypeOrPack">AstTypeOrPack</a>}?</span></div> 
                            <div class="field-desc">Optional explicit type arguments for generic functions</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprIndexName">
                    <div class="type-header">
                        <span class="type-name">AstExprIndexName</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A named field access expression: `expr.name` or `expr:name`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">t.x
math.pi
obj:method -- Even method access via : creates an index expression (usually part of a call)</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The expression being indexed</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">index</span> <span class="field-type">string</span></div> 
                            <div class="field-desc">The name of the field being accessed</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">indexLocation</span> <span class="field-type"><a href="core.html#Location">Location</a></span></div> 
                            <div class="field-desc">The location of the field name</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">opPosition</span> <span class="field-type"><a href="core.html#Position">Position</a></span></div> 
                            <div class="field-desc">The position of the `.` or `:` operator</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">op</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">The operator character code (46 for `.`, 58 for `:`)</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprIndexExpr">
                    <div class="type-header">
                        <span class="type-name">AstExprIndexExpr</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A bracketed index expression: `expr[index]`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">t[1]
t[&quot;key&quot;]
t[variable]</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The expression being indexed</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">index</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The expression used as the index/key</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprFunction">
                    <div class="type-header">
                        <span class="type-name">AstExprFunction</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A function expression (anonymous function or lambda): `function(...) ... end`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local f = function(a, b) return a + b end
local g = function(...: number) end</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">attributes</span> <span class="field-type">{<a href="helpers.html#AstAttr">AstAttr</a>}</span></div> 
                            <div class="field-desc">Function attributes like @native, @checked, @deprecated</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">generics</span> <span class="field-type">{<a href="helpers.html#AstGenericType">AstGenericType</a>}</span></div> 
                            <div class="field-desc">Generic type parameters (e.g., `&lt;T, U&gt;`)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">genericPacks</span> <span class="field-type">{<a href="helpers.html#AstGenericTypePack">AstGenericTypePack</a>}</span></div> 
                            <div class="field-desc">Generic type pack parameters (e.g., `&lt;T...&gt;`)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">self</span> <span class="field-type"><a href="core.html#AstLocal">AstLocal</a>?</span></div> 
                            <div class="field-desc">The implicit `self` parameter for methods (nil for regular functions)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">args</span> <span class="field-type">{<a href="core.html#AstLocal">AstLocal</a>}</span></div> 
                            <div class="field-desc">The list of function parameters</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">returnAnnotation</span> <span class="field-type"><a href="types.html#AstTypePack">AstTypePack</a>?</span></div> 
                            <div class="field-desc">Optional return type annotation</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">vararg</span> <span class="field-type">boolean</span></div> 
                            <div class="field-desc">True if the function accepts varargs `...`</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">varargLocation</span> <span class="field-type"><a href="core.html#Location">Location</a></span></div> 
                            <div class="field-desc">Location of the `...` token (if vararg)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">varargAnnotation</span> <span class="field-type"><a href="types.html#AstTypePack">AstTypePack</a>?</span></div> 
                            <div class="field-desc">Optional type annotation for varargs</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">body</span> <span class="field-type"><a href="statements.html#AstStatBlock">AstStatBlock</a></span></div> 
                            <div class="field-desc">The function body (block of statements)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">functionDepth</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">Nesting depth of this function</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">debugname</span> <span class="field-type">string</span></div> 
                            <div class="field-desc">Debug name for the function (inferred from context)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">argLocation</span> <span class="field-type"><a href="core.html#Location">Location</a>?</span></div> 
                            <div class="field-desc">Location of the parameter list</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprTable">
                    <div class="type-header">
                        <span class="type-name">AstExprTable</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A table constructor expression: `{ items }`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local t1 = {}
local t2 = {1, 2, 3}
local t3 = {x = 10, y = 20}
local t4 = {[&quot;key&quot;] = &quot;value&quot;}</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">items</span> <span class="field-type">{<a href="expressions.html#AstExprTableItem">AstExprTableItem</a>}</span></div> 
                            <div class="field-desc">The list of table items (key-value pairs or list elements)</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprTableItem">
                    <div class="type-header">
                        <span class="type-name">AstExprTableItem</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">Represents a single item in a table constructor.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">{ 1 } -- kind=&quot;List&quot;, value=1
{ x = const } -- kind=&quot;Record&quot;, key=x, value=const
{ [expr] = v } -- kind=&quot;General&quot;, key=expr, value=v</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">kind</span> <span class="field-type">"List" | "Record" | "General"</span></div> 
                            <div class="field-desc">&quot;List&quot; for array-style `value`, &quot;Record&quot; for `key = value`, &quot;General&quot; for `[key] = value`</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">key</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a>?</span></div> 
                            <div class="field-desc">The key expression (nil for List items)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">value</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The value expression</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprUnary">
                    <div class="type-header">
                        <span class="type-name">AstExprUnary</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A unary operator expression: `-expr`, `not expr`, or `#expr`.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local neg = -x
local inv = not x
local len = #x</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">op</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">The unary operator (0=not, 1=minus, 2=length)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The operand expression</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprBinary">
                    <div class="type-header">
                        <span class="type-name">AstExprBinary</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A binary operator expression: `left op right`. Covers arithmetic, comparison, logical, and concatenation operators.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local sum = a + b
local eq = a == b
local logic = a and b
local concat = a .. b</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">op</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">The binary operator code (see BinaryOp enum in parser)</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">left</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The left operand expression</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">right</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The right operand expression</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprTypeAssertion">
                    <div class="type-header">
                        <span class="type-name">AstExprTypeAssertion</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">A type assertion expression: `expr :: Type`. Used to assert that an expression has a specific type.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local x = y :: number
local z = (a + b) :: any</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The expression being asserted</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">annotation</span> <span class="field-type"><a href="types.html#AstType">AstType</a></span></div> 
                            <div class="field-desc">The type being asserted</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprInstantiate">
                    <div class="type-header">
                        <span class="type-name">AstExprInstantiate</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">An explicit type instantiation expression: `expr&lt;&lt;T, U&gt;&gt;`. Used to explicitly specify type arguments for a generic function or type.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">-- Calling a generic function with explicit types
local res = map&lt;&lt;number, string&gt;&gt;(list, tostring)</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The expression being instantiated</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">typeArguments</span> <span class="field-type">{<a href="helpers.html#AstTypeOrPack">AstTypeOrPack</a>}</span></div> 
                            <div class="field-desc">The type arguments provided</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprIfElse">
                    <div class="type-header">
                        <span class="type-name">AstExprIfElse</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">An if-else expression: `if condition then trueExpr else falseExpr`. The expression form of conditional logic (not the statement form).</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local max = if a &gt; b then a else b
local status = if x then &quot;ok&quot; elseif y then &quot;warn&quot; else &quot;error&quot;</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">condition</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">The condition expression</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">hasThen</span> <span class="field-type">boolean</span></div> 
                            <div class="field-desc">True if the `then` keyword is present</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">trueExpr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">Expression evaluated when condition is truthy</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">hasElse</span> <span class="field-type">boolean</span></div> 
                            <div class="field-desc">True if the `else` keyword is present</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">falseExpr</span> <span class="field-type"><a href="expressions.html#AstExpr">AstExpr</a></span></div> 
                            <div class="field-desc">Expression evaluated when condition is falsy</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprInterpString">
                    <div class="type-header">
                        <span class="type-name">AstExprInterpString</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span></div>
                    </div>
                    <p class="type-description">An interpolated string expression: `` `text {expr} more text` ``. Allows embedding expressions directly within string literals.</p>
                    
                    <div class="code-example">
                        <div class="code-example-header"><span class="code-example-title">Example</span></div>
                        <pre><code class="language-lua">local s = `Hello {name}, score: {score}`
local t = `Count: {count + 1}`</code></pre>
                    </div>
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">strings</span> <span class="field-type">{string}</span></div> 
                            <div class="field-desc">The literal string segments between expressions</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expressions</span> <span class="field-type">{<a href="expressions.html#AstExpr">AstExpr</a>}</span></div> 
                            <div class="field-desc">The embedded expressions</div>
                        </div></div>
                </div>
    
                <div class="type-entry" id="AstExprError">
                    <div class="type-header">
                        <span class="type-name">AstExprError</span>
                        <div class="type-badges"><span class="badge expr">EXPR</span><span class="tag">Error</span></div>
                    </div>
                    <p class="type-description">An error expression node, created when parsing fails. Used to allow partial parsing to continue after errors.</p>
                    
                    <div class="section-label">Fields</div><div class="field-list">
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">expressions</span> <span class="field-type">{<a href="expressions.html#AstExpr">AstExpr</a>}</span></div> 
                            <div class="field-desc">Any expressions that were successfully parsed</div>
                        </div>
                        <div class="field-item">
                            <div class="field-sig"><span class="field-name">messageIndex</span> <span class="field-type">number</span></div> 
                            <div class="field-desc">Index into the error messages table</div>
                        </div></div>
                </div>
    
            </main>
            <aside class="sidebar-right">
                <div class="sidebar-right-title">On this page</div>
                <nav id="toc-nav">
                    <!-- TOC -->
                </nav>
            </aside>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/lua.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tocNav = document.getElementById('toc-nav');
            const headers = document.querySelectorAll('.type-entry h3, .union-section h3, .category-header h2');
            
            headers.forEach(header => {
                if (header.tagName === 'H2') {
                    const link = document.createElement('div');
                    link.className = 'nav-section-title';
                    link.style.marginTop = '16px';
                    link.textContent = header.textContent;
                    tocNav.appendChild(link);
                } else {
                    let id = header.parentElement.id;
                    if (!id && header.parentElement.className.includes('type-entry')) {
                        id = header.parentElement.id;
                    }
                    if (id) {
                        const link = document.createElement('a');
                        link.href = '#' + id;
                        link.className = 'nav-link';
                        const clone = header.cloneNode(true);
                        clone.querySelectorAll('.badge, .tag').forEach(e => e.remove());
                        link.textContent = clone.textContent.trim();
                        tocNav.appendChild(link);
                    }
                }
            });

            const searchInput = document.getElementById('search-input');
            const typeEntries = document.querySelectorAll('.type-entry, .union-section');

            searchInput.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                typeEntries.forEach(entry => {
                    const text = entry.textContent.toLowerCase();
                    if (text.includes(term)) {
                        entry.classList.remove('hidden');
                    } else {
                        entry.classList.add('hidden');
                    }
                });
            });
        });
    </script>
</body>
</html>
