<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Luau Parser API Reference</title>
    <style>
        :root {
            --bg: #0d1117;
            --sidebar-bg: #161b22;
            --border: #30363d;
            --text: #c9d1d9;
            
            /* Your Requested Colors */
            --color-ast: #ff6b6b;      /* Red */
            --color-expr: #ffdf6b;     /* Yellow */
            --color-cst: #6bff84;      /* Green */
            --color-loc: #6be4ff;      /* Location Blue */
            --color-type: #d2a8ff;     /* Purple for others */
        }

        body { font-family: 'Segoe UI', system-ui; background: var(--bg); color: var(--text); display: flex; margin: 0; }
        
        /* Sidebar */
        nav { width: 280px; height: 100vh; background: var(--sidebar-bg); border-right: 1px solid var(--border); position: fixed; padding: 20px; overflow-y: auto; }
        nav h2 { font-size: 1rem; color: var(--text); border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        .nav-link { display: block; padding: 5px 0; color: #8b949e; text-decoration: none; font-size: 14px; }
        .nav-link:hover { color: var(--color-loc); }

        /* Main Content */
        main { margin-left: 320px; padding: 40px; width: 100%; max-width: 900px; }
        
        /* Type Card Styling */
        .card { 
            background: #161b22; 
            border: 1px solid var(--border); 
            border-radius: 8px; 
            margin-bottom: 30px; 
            font-family: 'Cascadia Code', 'Consolas', monospace;
        }
        
        .card-header {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .type-title { font-size: 1.2rem; font-weight: bold; }
        .category-tag { font-size: 0.7rem; padding: 2px 8px; border-radius: 4px; text-transform: uppercase; color: #000; font-weight: bold; }
        
        /* Property List */
        .card-body { padding: 20px; line-height: 1.6; }
        .prop-line { margin-bottom: 5px; }
        .prop-name { color: #79c0ff; }
        .prop-value { color: var(--text); }

        /* Dynamic Colors for values */
        .link-ast { color: var(--color-ast) !important; font-weight: bold; }
        .link-expr { color: var(--color-expr) !important; }
        .link-cst { color: var(--color-cst) !important; }
        .link-location { color: var(--color-loc) !important; }
        
        a { text-decoration: none; }
        a:hover { text-decoration: underline; }

        .kind-str { color: #a5d6ff; } /* For "StatLocal" strings */
    </style>
</head>
<body>

    <nav id="sidebar">
        <h2>Types Reference</h2>
        </nav>

    <main id="content">
        </main>

    <script>
        // 1. ADD YOUR DATA HERE
        // Just add a new object for every Luau type you have.
        const typeData = [
            {
                name: "Location",
                category: "Helper",
                props: [
                    { name: "begin", type: "Position" },
                    { name: "end_", type: "Position" }
                ]
            },
            {
                name: "AstStatLocal",
                category: "AST",
                kind: "StatLocal",
                props: [
                    { name: "kind", type: '"StatLocal"', isKind: true },
                    { name: "location", type: "Location" },
                    { name: "vars", type: "{AstLocal}" },
                    { name: "values", type: "{AstExpr}" }
                ]
            },
            {
                name: "AstExprBinary",
                category: "EXPR",
                kind: "ExprBinary",
                props: [
                    { name: "kind", type: '"ExprBinary"', isKind: true },
                    { name: "op", type: "number" },
                    { name: "left", type: "AstExpr" },
                    { name: "right", type: "AstExpr" }
                ]
            },
            {
                name: "CstStatLocal",
                category: "CST",
                props: [
                    { name: "kind", type: '"CstStatLocal"', isKind: true },
                    { name: "varsCommaPositions", type: "{Position}" },
                    { name: "equalsPosition", type: "Position" }
                ]
            }
        ];

        // 2. RENDERING ENGINE
        const content = document.getElementById('content');
        const sidebar = document.getElementById('sidebar');

        function getLinkClass(typeName) {
            if (typeName.includes("AstStat")) return "link-ast";
            if (typeName.includes("AstExpr") || typeName.includes("AstLocal")) return "link-expr";
            if (typeName.includes("Cst")) return "link-cst";
            if (typeName.includes("Location") || typeName.includes("Position")) return "link-location";
            return "";
        }

        function formatType(typeStr) {
            // This function looks for type names and wraps them in links and colors
            const cleanType = typeStr.replace(/{|}/g, "");
            const linkClass = getLinkClass(cleanType);
            
            // If it's a known type in our data, make it a link
            return typeStr.replace(cleanType, `<a href="#${cleanType}" class="${linkClass}">${cleanType}</a>`);
        }

        typeData.forEach(item => {
            // Create Sidebar Link
            const navLink = document.createElement('a');
            navLink.href = `#${item.name}`;
            navLink.className = 'nav-link';
            navLink.innerText = item.name;
            sidebar.appendChild(navLink);

            // Create Card
            const catColor = item.category === "AST" ? "var(--color-ast)" : 
                             item.category === "EXPR" ? "var(--color-expr)" : 
                             item.category === "CST" ? "var(--color-cst)" : "var(--color-loc)";

            const card = document.createElement('div');
            card.className = 'card';
            card.id = item.name;
            
            let propsHtml = item.props.map(p => {
                let valHtml = p.isKind ? `<span class="kind-str">${p.type}</span>` : formatType(p.type);
                return `<div class="prop-line"><span class="prop-name">${p.name}</span>: <span class="prop-value">${valHtml}</span></div>`;
            }).join('');

            card.innerHTML = `
                <div class="card-header" style="border-left: 5px solid ${catColor}">
                    <span class="type-title" style="color: ${catColor}">${item.name}</span>
                    <span class="category-tag" style="background: ${catColor}">${item.category}</span>
                </div>
                <div class="card-body">
                    ${propsHtml}
                </div>
            `;
            content.appendChild(card);
        });
    </script>
</body>
</html>
